<!DOCTYPE html>
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title #{pageTitle}
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet", integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC", crossorigin="anonymous")
        link(rel='preconnect' href='https://fonts.googleapis.com')
        link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
        link(href='https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap' rel='stylesheet')
        link(rel='stylesheet', href="/css/register.css")

    body
        .registerWrapper.modal(tabindex="-1")
            .registerContainer
                .registerContainer__header.modal-header.border-bottom-0.p-0
                    .registerContainer__logo
                        div.registerContainer__svg
                            svg.r-k200y.r-1cvl2hr.r-4qtqp9.r-yyyyoo.r-5sfk15.r-dnmrzs.r-kzbkwu.r-bnwqim.r-1plcrui.r-lrvibr(viewbox='0 0 24 24' aria-hidden='true')
                                g
                                    path(d='M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z')      
                    .registerContainer__close-button
                        a.btn-close(href="/login", data-bs-dismiss="modal", aria-label="Close")
                .registerContainer__content.modal-body.p-0
                    .registerContainer__title
                        h1 Create an account
                    form.registerContainer__form.form-floating#registerForm(method="post", onSubmit="event.preventDefault(); validatePassword()")
                        if errorMessage
                            p.errorMessage.alert.alert-primary #{errorMessage}
                        div
                            .registerContainer__input.form-floating
                                input.form-control#firstName(type="text", name="firstName", placeholder="First name", value=firstName, required="")
                                label(for="logUsername") First name
                            .registerContainer__input.form-floating
                                input.form-control#lastName(type="text", name="lastName", placeholder="Last name", value=lastName, required="")
                                label(for="lastName") Last name
                            .registerContainer__input.form-floating
                                input.form-control#username(type="text", name="username", placeholder="Username", value=username, required="")
                                label(for="username") Username
                            .registerContainer__input.form-floating
                                input.form-control#email(type="email", name="email", placeholder="Email", value=email, required="")
                                label(for="email") Email
                            .registerContainer__input.form-floating
                                input.form-control#password(type="password", name="password", placeholder="Password", required="")
                                label(for="password") Password
                            .registerContainer__input.form-floating
                                input.form-control#passwordConf(type="password", name="passwordConf", placeholder="Confirm password", required="")
                                label(for="passwordConf") Confirm password
                        .registerContainer__buttons
                            .registerContainer__cancel-button        
                                    a(href="/login") Cancel
                            .registerContainer__submit-button        
                                input(type="submit", value="Register")
                .registerContainer__footer.modal-footer.border-top-0
                .registerContainer__span
                    span Already have an account?
                .registerContainer__login-button
                    a(href="/login") Log In

    script.
        var passwordField = document.getElementById("password")
        var passwordConfirmField = document.getElementById("passwordConf")
        var form = document.getElementById("registerForm")

        function validatePassword() {
            if(passwordField.value != passwordConfirmField.value) {
                alert('Password does not match. Please try again')
            } else {
                form.submit();
            }
        }